function isWeiXin(){return"micromessenger"==window.navigator.userAgent.toLowerCase().match(/MicroMessenger/i)}function shareWX(){function e(){return{title:"前沿科技！探索直播无限可能，深圳腾讯2018TLC直播大会再度来袭",desc:"由腾讯Now直播IVWEB团队发起的专注于视频、直播、图像等领域的技术分享大会，大咖云集，干货满满等你来～",link:i,imgUrl:"https://qpic.url.cn/feeds_pic/Q3auHgzwzM7vqSndf7TQW6b9gDXXIwib4sa7BVXeRBsjlKSm7y6JvRQ/"}}function t(t){var i={debug:!1,appId:"wx46043b46111e904e",timestamp:t.timestamp,nonceStr:t.nonceStr,signature:t.signature,jsApiList:["onMenuShareTimeline","onMenuShareAppMessage","onMenuShareQQ","onMenuShareWeibo","onMenuShareQZone"]};wx.config(i),wx.ready(function(){var t=e();wx.onMenuShareTimeline({title:t.title,link:t.link,imgUrl:t.imgUrl,success:function(){},cancel:function(){}}),wx.onMenuShareAppMessage({title:t.title,desc:t.desc,link:t.link,imgUrl:t.imgUrl,type:"",dataUrl:"",success:function(){},cancel:function(){}}),wx.onMenuShareQQ({title:t.title,desc:t.desc,link:t.link,imgUrl:t.imgUrl,success:function(){},cancel:function(){}}),wx.onMenuShareWeibo({title:t.title,desc:t.desc,link:t.link,imgUrl:t.imgUrl,success:function(){},cancel:function(){}}),wx.onMenuShareQZone({title:t.title,desc:t.desc,link:t.link,imgUrl:t.imgUrl,success:function(){},cancel:function(){}})}),wx.error(function(e){console.error(e)})}parseInt((new Date).getTime()/1e3,10),parseInt(1e6*Math.random(),10);var i=window.location.href.replace(/#.*$/,"");$.ajax({url:"https://ivweb.io/wechat/share",type:"GET",dataType:"jsonp",jsonp:"callback",data:{appid:"wx46043b46111e904e",url:i},timeout:5e3,success:function(e){console.log("ajax response result:",e.sign),t(e.sign)},error:function(e){console.error("获取weixin签名失败",e)}})}!function(){"use strict";function e(){var e=this.value,t=this.dataset.canonical;"en"===e&&(e=""),e&&(e+="/"),location.href="/"+e+t}document.getElementById("lang-select").addEventListener("change",e),document.getElementById("mobile-lang-select").addEventListener("change",e)}(),function(){"use strict";function e(){var e=document.scrollingElement.scrollTop;e>n?i.classList.add("fixed"):i.classList.remove("fixed")}var t=document.getElementById("header"),i=document.getElementById("article-toc"),s=document.getElementById("article-toc-top"),n=t.clientHeight;i&&(window.addEventListener("scroll",function(){window.requestAnimationFrame(e)}),e(),s.addEventListener("click",function(e){e.preventDefault(),document.scrollingElement.scrollTop=0}))}(),function(){"use strict";var e=document.getElementsByTagName("body")[0],t=document.getElementById("mobile-nav-toggle"),i=document.getElementById("mobile-nav-dimmer"),s="mobile-nav-on";t&&(t.addEventListener("click",function(t){t.preventDefault(),t.stopPropagation(),e.classList.toggle(s)}),i.addEventListener("click",function(t){e.classList.contains(s)&&(t.preventDefault(),e.classList.remove(s))}))}(),function(){"use strict";axios.get("//now.qq.com/cgi-bin/now/activity_cms/form_data?actid=79028579").then(function(e){var t=e.data&&e.data.result,i=location.href;t&&(/speakers/.test(i)?l(t):/subjects/.test(i)?c(t):/schedules/.test(i)?o(t):/apply/.test(i)?m(t):/detail/.test(i)?u(t):/publisher/.test(i)?d(t):r(t))})["catch"](function(e){console.log(e)});var e=function(e){var t='{% for item in items %} <li class="intro-feature-wrap"><div class="intro-feature"><div class="intro-feature-icon"><img src="{{ item.icon }}" class="image"></div><h3 class="intro-feature-title">{{ item.title }}</h3><p class="intro-feature-desc">{{ item.description }}</p></div></li> {% endfor %}',i=swig.render(t,{filename:"/tpl",locals:{items:e.items}});document.getElementById("intro-feature-list").innerHTML=i},t=function(e){for(var t,i=[],s=0;s<e.items.length;s++)e.items[s].isMain?t=e.items[s]:i.push(e.items[s]);var n='<div class="subject-title"></div> <div class="subject-main"> <p class="subject-main-title">{{ subjectMainInfo.title }}</p> <p class="subject-main-content">{{ subjectMainInfo.description }}</p> </div> <ul> {% for item in branchItems %}<li class="subject-branch"> <p class="subject-branch-title">{{ item.title }}</p> <p class="subject-branch-content">{{ item.description }}</p> </li>{% endfor %}</ul>',a=swig.render(n,{filename:"/subjectTpl",locals:{subjectMainInfo:t,branchItems:i}});document.getElementById("subject-wrap").innerHTML=a},i=function(e){var t='{% for item in publisherItems %}  <li class="intro-user-item"> <a href="/publisher/?number={{item.number}}" target="_blank"><img src="{{ item.avatar }}"></a> <div class="intro-user-info"> <p class="name"><a href="/publisher/?number={{item.number}}" target="_blank">{{ item.name }}</a></p> <p class="desc">{{ item.brief }}</p> </div> </li>  {% endfor %}',i=swig.render(t,{filename:"/publisherTpl",locals:{publisherItems:e.items}});document.getElementById("publisher-items").innerHTML=i},s=function(e){for(var t=[],i=0;i<e.items.length;i++)for(var s=0;s<e.items[i].speakers.length;s++)e.items[i].speakers[s].isShowIndex&&t.push(e.items[i].speakers[s]);var n='{% for item in speakerItems %}  <li class="intro-user-item"> <a href="/detail/?number={{ item.number }}" target="_blank"><img src="{{ item.avatar }}"></a> <div class="intro-user-info"> <p class="name"><a href="/detail/?number={{ item.number }}" target="_blank">{{ item.name }}</a></p> <p class="desc">{{ item.brief }}</p> </div> </li>  {% endfor %}',a=swig.render(n,{filename:"/speakerTpl",locals:{speakerItems:t}});document.getElementById("speaker-items").innerHTML=a},n=function(e){var t='{% for item in sponsorItems %}  <li class="partner-item"><img src="{{ item.logo }}"></li>  {% endfor %}',i=swig.render(t,{filename:"/sponsorTpl",locals:{sponsorItems:e.items}});document.getElementById("sponsor-items").innerHTML=i},a=function(e){var t='{% for item in friendlinkItems %}  <li><a href="{{ item.link }}" target="_blank">{{ item.text }}</a></li>  {% endfor %}',i=swig.render(t,{filename:"/friendLinkOutputTpl",locals:{friendlinkItems:e.rules}});document.getElementById("friendlink-items").innerHTML=i},r=function(r){window.innerWidth>768&&$("#banner").css("background-image","url("+r.bannerInfo.imageUrl+")"),e(r.featureInfo),t(r.subjectInfo),i(r.publisherInfo),s(r.subjectInfo),n(r.sponsorInfo),a(r.friendlinkInfo)},l=function(e){for(var t=function(){s(i()),a(e.friendlinkInfo)},i=function(){for(var e=[],t=0;t<n.length;t++)e=e.concat(n[t].speakers);return e},s=function(e){var t='{% for item in speakerItems %}  <li class="intro-user-item"><a href="/detail/?number={{ item.number }}" target="_blank"><img src="{{item.avatar}}"> </a><div class="intro-user-info"> <a href="/detail/?number={{ item.number }}" target="_blank"><p class="name">{{item.name}}</a></p> <p class="desc">{{item.brief}}</p> </div> </li>  {% endfor %}',i=swig.render(t,{locals:{speakerItems:e}});$("#intro-user-wrap").html(i)},n=e.subjectInfo.items,r=["全部"],l=0;l<n.length;l++)r.push(n[l].title);var c="{% for item in headItems %}  <li>{{ item }}</li>  {% endfor %}",o=swig.render(c,{filename:"/tabHeadTpl",locals:{headItems:r}});$("#tab-head-items").html(o),t(),$("#tab-head-items li").click(function(){var e=$(this).index(),t=[];t=e?n[e-1].speakers:i(),s(t)})},c=function(e){var t='{% for item in subjectItems %}<div id="speaker-subject-wrap"> {% if item.isMain %}<div class="speaker-subject-title"></div> {% endif %}<div class="{% if item.isMain %} speaker-subject-main {% else %} speaker-subject-branch {% endif %}"> <p class="speaker-subject-main-title">{{item.title}}</p> <p class="speaker-subject-main-content">{{item.description}}</p> </div> <ul> {% for speakerItem in item.speakers %}<li class="speaker-subject-items"> <div class="speaker-avatar"><a href="/detail/?number={{ speakerItem.number }}" target="_blank"><img src="{{speakerItem.avatar}}" /></a></div> <div class="speaker-info"><p class="speaker-topic"><a href="/detail/?number={{ speakerItem.number }}" target="_blank">{{speakerItem.topic}}</a></p> <p class="speaker-name">{{speakerItem.name}}</p> </div> </li>{% endfor %}</ul> </div> {% endfor %}',i=swig.render(t,{filename:"/subjectTpl",locals:{subjectItems:e.subjectInfo.items}});a(e.friendlinkInfo),$("#subject-wrap").html(i)},o=function(e){a(e.friendlinkInfo);for(var t=[],i={},s={},n=0;n<e.subjectInfo.items.length;n++)for(var r=0;r<e.subjectInfo.items[n].speakers.length;r++){var l=e.subjectInfo.items[n].speakers[r];s[l.number]=l}for(var n=0;n<e.subjectInfo.items[0].schedules.length;n++)i[e.subjectInfo.items[0].schedules[n].timeline]=[];for(var n=0;n<e.subjectInfo.items.length;n++){t.push({title:e.subjectInfo.items[n].title,location:e.subjectInfo.items[n].location});for(var r=0;r<e.subjectInfo.items[n].schedules.length;r++){var c=e.subjectInfo.items[n].schedules[r].timeline,o=e.subjectInfo.items[n].schedules[r].plan,m=e.subjectInfo.items[n].schedules[r].number;o?i[c].push(o):m&&i[c].push(s[m])}for(var u in i)i[u].length!==n+1&&i[u].push("/")}var d='<tr> <td class="bold">时间</td> {% for headerItem in headerData %}<td class="bold blue"><p>{{headerItem.title}}</p><p class="location">({{headerItem.location}})</p></td>{% endfor %}</tr>{% for key, val in tableData %}<tr> <td>{{ key }}</td> {% for item in val %} <td> {% if item.topic %}<p class="blue"><a href="/detail/?number={{item.number}}" target="_blank">{{item.topic}}</a></p> <p>{{item.name}}</p>{% else %}<p class="blue">{{item}}</p> {% endif %}</td>{% endfor %} </tr>{% endfor %}',p='{% for key, val in tableData %}<div class="schedule-subject-branch "> <p class="schedule-subject-main-title">{{val.title}}</p> <p class="schedule-subject-main-content">{{val.location}}</p> </div>{% for item in val.schedules %} {% if speakerMap[item.number] && speakerMap[item.number].topic %} <div class="topic-item"><div class="content"> <div class="author-wrap"><div class="avatar"> <a href="/detail/?number={{item.number}}" target="_blank"><img src="{{speakerMap[item.number].avatar}}" /> </a></div> <div class="author-info"> <p class="name"><a href="/detail/?number={{item.number}}" target="_blank">{{ speakerMap[item.number].topic}}</a></p> <p class="title">{{speakerMap[item.number].name}}</p> </div></div><div class="time">{{speakerMap[item.number].time}}</div> </div></div>{% endif %} {% if item.plan %}<div class="topic-item"><div class="content"> <div class="author-wrap"><div class="avatar"></div> <div class="author-info"> <p class="name">{{item.plan}}</p> </div></div><div class="time">{{item.timeline}}</div> </div></div>{% endif %} {% endfor %}{% endfor %}',f=swig.render(d,{locals:{headerData:t,tableData:i}});console.log(e.subjectInfo.items);var v=swig.render(p,{locals:{tableData:e.subjectInfo.items,speakerMap:s}});$("#schedule-wrap").html(f),$("#schedule-wrap-h5").html(v)},m=function(e){var t=function(e){var t="{% for item in imgs %}<img src={{item.imgUrl}} data-url={{item.link}} />{% endfor %}",i=swig.render(t,{locals:{imgs:e.imgs}}),s='{% for item in infos %}<div class="section"> <div class="section-title">{{item.title}}</div> <div class="section-content"> {% for textItem in item.info %}<p>{{textItem.text}}</p>{% endfor %} </div> </div>{% endfor %}',n=swig.render(s,{locals:{infos:e.infos}});$("#carousel").html(i),$("#section-wrapper").html(n),$(document).ready(function(){$("#carousel").carousel({curDisplay:0,autoPlay:!1,interval:3e3})})};t(e.reviewImageInfo),a(e.friendlinkInfo)},u=function(e){var t=function(){for(var e=new Object,t=location.search.substring(1),i=t.split(","),s=0;s<i.length;s++){var n=i[s].indexOf("=");if(n!=-1){var a=i[s].substring(0,n),r=i[s].substring(n+1);e[a]=unescape(r)}}return e},i=function(e){for(var i,s=t(),n=parseInt(s.number),a=0;a<e.items.length;a++)for(var r=0;r<e.items[a].speakers.length;r++)e.items[a].speakers[r].number===n&&(i=e.items[a].speakers[r],i.branchName=e.items[a].title);var l='<div class="base-info"> <div> <div class="title">演讲：{{speakerItem.topic}}</div> <div class="author">{{speakerItem.name}} | {{speakerItem.brief}}</div> </div> <div class="logo-url"> <img src="{{speakerItem.avatar}}" /> </div> </div> <div class="topic-detail"> <p>{{speakerItem.intro}}</p> </div> <div class="conf-info"> <div class="location"> <i></i> <div> <p class="key">地点</p> <p class="value">{{speakerItem.location}}</p> </div> </div> <div class="time"> <i></i> <div> <p class="key">时间</p> <p class="value">{{speakerItem.time}}</p> </div> </div> <div class="branch"> <i></i> <div> <p class="key">所属会场</p> <p class="value">{{speakerItem.branchName}}</p> </div> </div> </div>',c=swig.render(l,{locals:{speakerItem:i}});$("#detail-wrap").html(c)};i(e.subjectInfo),a(e.friendlinkInfo)},d=function(e){var t=function(){for(var e=new Object,t=location.search.substring(1),i=t.split(","),s=0;s<i.length;s++){var n=i[s].indexOf("=");if(n!=-1){var a=i[s].substring(0,n),r=i[s].substring(n+1);e[a]=unescape(r)}}return e},i=function(e){for(var i,s=e.publisherInfo,n=e.subjectInfo,a=t(),r=parseInt(a.number),l=0;l<s.items.length;l++)s.items[l].number===r&&(i=s.items[l]);for(var c=[],l=0;l<n.items.length;l++)for(var o=0;o<n.items[l].speakers.length;o++)if(i.speakerIds.split(",").indexOf(n.items[l].speakers[o].number.toString())>-1){var m=n.items[l].speakers[o];m.branchName=n.items[l].title,c.push(m)}i.speakerList=c,console.log(i);var u='<div class="base-info"> <div> <div class="title">出品人：{{publisherItem.name}}</div> <div class="author">{{publisherItem.brief}}</div> </div> <div class="logo-url"> <img src="{{publisherItem.avatar}}" /> </div> </div> <div class="topic-detail"> <p>{{publisherItem.detail}}</p> </div><div class="speaker-list">{% for item in publisherItem.speakerList %}<div class="speaker-item"><div class="speaker-header"><div class="speaker-title"><a href="/detail/?number={{item.number}}" target="_blank">专题：{{item.topic}}</a></div>  <div class="location"><i></i> <div> <p class="key">地点</p> <p class="value">{{item.location}}</p> </div></div> </div><div class="speaker-detail">{{item.intro}}</div></div>{% endfor %}</div></div>',d=swig.render(u,{locals:{publisherItem:i}});$("#publisher-wrap").html(d)};i(e),a(e.friendlinkInfo)}}(),function(e,t,i,s){var n=function(i,s){this.defaults={curDisplay:0,autoPlay:!1,interval:3e3},this.opts=e.extend({},this.defaults,s);this.$carousel=i,this.$aImg=this.$carousel.find("img"),this.imgLen=this.$aImg.length,this.curDisplay=this.opts.curDisplay,this.autoPlay=this.opts.autoPlay,this.viewWidth=e(t).width()/2,this.b_switch=!0,this.iNow=this.opts.curDisplay,this.timer=null,this.interval=this.opts.interval;for(var n="<ul>",a=0;a<this.imgLen;a++)n+=this.curDisplay==a?"<li class=on><a>"+a+"</a></li>":"<li><a>"+a+"</a></li>";n+="</ul>",this.$carousel.parent().append("<div id=bannerNav>"+n+"</div>"),this.$aNav=this.$carousel.siblings("#bannerNav").find("ul li")},a=parseInt(e(t).width()),r=1920,l=a>=r?380:266,c=a>=r?330:220;n.prototype={play:function(){this.autoPlay&&(this.iNow===this.imgLen-1?this.iNow=0:this.iNow++,this.movingNext(this.iNow))},movingPrev:function(e){this.curDisplay=e,this.initalCarousel()},movingNext:function(e){this.curDisplay=e,this.initalCarousel()},initalCarousel:function(){for(var e,t,i=this,s=Math.floor(this.imgLen/2),n=0,a=0;a<s;a++)e=this.curDisplay-a-1,0==n?(this.$aImg.eq(e).css({transform:"translateX("+-200*(a+1)+"px) translateZ(-120px) rotateY(30deg)"}).animate({height:c+"px",marginTop:-c/2+"px",opacity:"0.6"},500),this.$aImg.eq(e).attr("onclick",null),t=this.curDisplay+a+1,t>this.imgLen-1&&(t-=this.imgLen),this.$aImg.eq(t).css({transform:"translateX("+200*(a+1)+"px) translateZ(-120px) rotateY(-30deg)"}).animate({height:c+"px",marginTop:-c/2+"px",opacity:"0.6"},500),this.$aImg.eq(t).attr("onclick",null),n++):(this.$aImg.eq(e).css({transform:"translateX(0px) translateZ(-1000px) rotateY(30deg)"}),t=this.curDisplay+a+1,t>this.imgLen-1&&(t-=this.imgLen),this.$aImg.eq(t).css({transform:"translateX(0px) translateZ(-1000px) rotateY(-30deg)"})),this.$aImg.removeClass("on"),this.$aNav.removeClass("on");var r="location.href='"+this.$aImg.eq(this.curDisplay).attr("data-url")+"'";this.$aImg.eq(this.curDisplay).css({transform:"translateZ(0px)"}).animate({height:l+"px",marginTop:-l/2+"px",opacity:"1"},500).addClass("on").attr("onclick",r),this.$aNav.eq(this.curDisplay).addClass("on"),this.$carousel.on("webkitTransitionEnd",function(){i.b_switch=!0})},inital:function(){var t=this;this.initalCarousel(),this.$aImg.on("click",function(i){if(t.b_switch&&!e(this).hasClass("on")){t.iNow=e(this).index(),t.b_switch=!1;var s=t.viewWidth<i.clientX?"next":"prev",n=e(this).index();"next"===s?t.movingNext(n):t.movingPrev(n)}}).hover(function(){clearInterval(t.timer)},function(){t.timer=setInterval(function(){t.play()},t.interval)}),this.$aNav.on("click",function(i){if(t.b_switch&&!e(this).hasClass("on")){t.iNow=e(this).index(),t.b_switch=!1;var s=t.viewWidth<i.clientX?"next":"prev",n=e(this).index();"next"===s?t.movingNext(n):t.movingPrev(n)}}).hover(function(){clearInterval(t.timer)},function(){t.timer=setInterval(function(){t.play()},t.interval)}),this.timer=setInterval(function(){t.play()},this.interval),this.$carousel.on("selectstart",function(){return!1})},constructor:n},e.fn.carousel=function(e){var t=new n(this,e);return t.inital()}}(jQuery,window,document,void 0),isWeiXin()&&shareWX();var _mtac={};!function(){var e=document.createElement("script");e.src="//pingjs.qq.com/h5/stats.js?v2.0.4",e.setAttribute("name","MTAH5"),e.setAttribute("sid","500622361"),e.setAttribute("cid","500622362");var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}();